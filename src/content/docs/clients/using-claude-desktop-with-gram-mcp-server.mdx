---
title: "Using Claude Desktop with Gram-hosted MCP servers"
description: "Learn how to connect Claude Desktop to Gram-hosted MCP servers to give Claude access to your APIs and tools."
sidebar:
  order: 2
---

Claude Desktop is Anthropic's standalone AI assistant application that supports MCP through a JSON configuration file.

When combined with [Model Context Protocol (MCP)](https://modelcontextprotocol.io/) servers, Claude Desktop becomes even more powerful. Using MCP servers, you can give Claude access to your tools and infrastructure, allowing it to work with your APIs, databases, and other services.

This guide will show you how to connect Claude Desktop to a [Gram-hosted MCP server](/blog/the-easiest-way-to-host-mcp-servers) using the example Push Advisor API from the [Gram concepts guide](/blog/gram-concepts). You'll learn how to set up the connection, test it, and use natural language to perform vibe checks.

Find the full code and OpenAPI document in the [Push Advisor API repository](https://github.com/ritza-co/gram-examples/tree/main/push-advisor-api).

## Prerequisites

You'll need:

- A [Gram account](https://app.getgram.ai).
- [Claude Desktop](https://claude.ai/download) installed.

## Creating a Gram MCP server

If you already have a Gram MCP server configured, you can skip to [connecting Claude Desktop to your Gram-hosted MCP server](#connecting-claude-desktop-to-your-gram-hosted-mcp-server). For an in-depth guide to how Gram works and more details on creating a Gram-hosted MCP server, check out the [Gram concepts guide](/blog/gram-concepts).

### Setting up a Gram project

In the [Gram dashboard](https://app.getgram.ai), click **New Project** to start the guided setup flow for creating a toolset and MCP server.

![Screenshot of the Gram dashboard showing the New Project link](/img/guides/mcp-installing-ide/gram-new-project.png)

Enter a project name and click **Submit**.

Gram will then guide you through the following steps.

#### Step 1: Upload the OpenAPI document

Upload the [Push Advisor OpenAPI document](https://github.com/ritza-co/gram-examples/blob/main/push-advisor-api/openapi.yaml), enter the name of your API, and click **Continue**.

![Screenshot of the upload your OpenAPI spec dialog](/img/guides/mcp-installing-ide/upload-openapi-spec.png)

#### Step 2: Create a toolset

Give your toolset a name (for example, "Push Advisor") and click **Continue**.

![Screenshot of the create toolset dialog](/img/guides/mcp-installing-ide/create-toolset.png)

Notice that the names of the tools that will be generated from your OpenAPI document are displayed in this dialog.

#### Step 3: Configure MCP

Enter a URL slug for the MCP server and click **Continue**.

![Screenshot of the configure MCP dialog](/img/guides/mcp-installing-ide/configure-mcp.png)

Gram will create the toolset from the OpenAPI document.

Click **Toolsets** in the sidebar to view the Push Advisor toolset.

![Screenshot of the Gram dashboard showing the Push Advisor toolset](/img/guides/mcp-installing-ide/toolset-created.png)

### Configuring environment variables

[Environments](/concepts/environments) store API keys and configuration separate from your toolset logic.

In the **Environments** tab, click the "Default" environment. Click **Edit** and then **Fill for Toolset**. Select the **Push Advisor** toolset and click **Fill Variables** to automatically populate the required variables.

![Screenshot showing the fill for toolset dialog to automatically populate required variables](/img/guides/mcp-installing-ide/fill-env-vars-toolset.png)

The Push Advisor API is hosted at `canpushtoprod.abdulbaaridavids04.workers.dev`, so set the `<API_name>_SERVER_URL` environment variable to `https://canpushtoprod.abdulbaaridavids04.workers.dev`. Click **Update** and then **Save**.

![Screenshot showing setting the server URL environment variable](/img/guides/mcp-installing-ide/set-server-url.png)

### Publishing an MCP server

Let's make the toolset available as an MCP server.

Go to the **MCP** tab, find the Push Advisor toolset, and click **Edit**.

On the **MCP Details** page, tick the **Public** checkbox and click **Save**.

![Screenshot of the MCP details page](/img/guides/mcp-installing-ide/mcp-details.png)

Scroll down to the **MCP Config** section and copy the **Public Server** configuration.

![Screenshot showing the MCP server config dialog for the Push Advisor toolset](/img/guides/mcp-installing-ide/copy-mcp-config.png)

The configuration will look something like this:

```json
{
  "mcpServers": {
    "GramPushadvisor": {
      "command": "npx",
      "args": [
          "mcp-remote",
          "https://app.getgram.ai/mcp/canipushtoprod"
        ]
    }
  }
}
```

Use the **Authenticated Server** configuration if you want to use the MCP server in a private environment.

You'll need an API key to use an authenticated server. [Generate an API key](/concepts/api-keys) in the **Settings** tab and copy it to the `GRAM_KEY` environment variable in place of `<your-key-here>`.

The authenticated server configuration looks something like this:

```json
{
  "mcpServers": {
    "GramPushadvisor": {
      "command": "npx",
      "args": [
        "mcp-remote",
        "https://app.getgram.ai/mcp/canipushtoprod",
        "--header",
        "Authorization: ${GRAM_KEY}"
      ],
      "env": {
        "GRAM_KEY": "Bearer <your-key-here>"
      }
    }
  }
}
```

Here's what these configuration options do:

- `"command"` – The executable to run (in this case, `npx`).
- `"args"` – Array of command-line arguments.
- `"env"` – Environment variables for the server process (optional).
- `"timeout"` – Request timeout in milliseconds (optional, defaults to `600,000ms`).
- `"trust"` – When `true`, bypasses all tool call confirmations (optional, defaults to `false`).

## Connecting Claude Desktop to your Gram-hosted MCP server

<div class="flex justify-center">
  <video controls>
    <source src="/videos/installing-mcp-claude-desktop.mp4" type="video/mp4"></source>
    Your browser does not support the video tag.
  </video>
</div>

### Step 1: Access Claude Desktop settings

In Claude Desktop, open settings:

- **macOS:** Go to **Claude -> Settings...** from the menu bar.
- **Windows:** Access settings through the application menu.

### Step 2: Open the MCP configuration

Select **Developer** from the left sidebar, then click **Edit Config**. This will create or open the MCP configuration file at:

- **macOS:** `~/Library/Application Support/Claude/claude_desktop_config.json`
- **Windows:** `%APPDATA%\Claude\claude_desktop_config.json`

### Step 3: Add the MCP server configuration

Replace the file content with your Gram MCP configuration. For a public server, use:

```json
{
  "mcpServers": {
    "GramPushadvisor": {
      "command": "npx",
      "args": [
        "mcp-remote",
        "https://app.getgram.ai/mcp/canipushtoprod"
      ]
    }
  }
}
```

For an authenticated server, use:

```json
{
  "mcpServers": {
    "GramPushadvisor": {
      "command": "npx",
      "args": [
        "mcp-remote",
        "https://app.getgram.ai/mcp/canipushtoprod",
        "--header",
        "Authorization: ${GRAM_KEY}"
      ],
      "env": {
        "GRAM_KEY": "Bearer your-api-key-here"
      }
    }
  }
}
```

### Step 4: Test the connection

Save the configuration file, then close Claude Desktop completely and reopen it. When the application has restarted, click the hamburger icon in the chat field to see the available tools. 

Test the connection by asking:

```
What's the vibe today?
```

Claude will use your Gram-hosted MCP server to check the vibes by calling the Push Advisor API.

![Screenshot showing Claude Desktop successfully calling the Push Advisor API](/img/guides/mcp-installing-ide/claude-desktop-vibe-check.png)

## Troubleshooting

If you're experiencing issues:

- Verify the MCP server URL is correct in your configuration
- Check that the API behind the MCP server is reachable from your machine
- Ensure the `npx` command is available (reinstall Node.js if needed)
- Try restarting Claude Desktop after making configuration changes
- For authenticated servers, verify your Gram API key in the dashboard under **Settings > API Keys**

## What's next

Ready to build your own MCP server? [Try Gram today](https://getgram.ai) and see how easy it is to turn any API into agent-ready tools that work across all your development environments.