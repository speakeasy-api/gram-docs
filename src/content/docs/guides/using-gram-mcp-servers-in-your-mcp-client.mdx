---
title: "Using your MCP client with Gram MCP servers"
description: "Learn how to create Gram-hosted MCP servers and connect them to your MCP client, giving your AI assistants access to your APIs and tools."
sidebar:
  order: 4
---

The Model Context Protocol (MCP) connects your AI assistants to real-world tools and data sources. Instead of manually copying and pasting information between tools and your AI assistant, MCP lets your AI assistant interact directly with APIs, databases, and services through standardized tool calls.

While most MCP server setups require complex local configurations, [Gram](https://getgram.ai) simplifies this by hosting MCP servers in the cloud. You can turn any OpenAPI document into a fully functional MCP server in minutes, without managing infrastructure or dealing with authentication complexity.

This guide will show you how to create a Gram-hosted MCP server and use it across some of the most popular MCP clients.

Find the full code and OpenAPI document in the [Push Advisor API repository](https://github.com/ritza-co/gram-examples/tree/main/push-advisor-api).

## Prerequisites

You'll need:

- A [Gram account](https://getgram.ai).
- An MCP client (we'll cover Claude Desktop, Cursor, VS Code with Copilot, and other popular options).

## Creating a Gram MCP server

If you already have a Gram MCP server configured, you can skip to the [Installing MCP Servers in your MCP client](#installing-mcp-servers-in-your-mcp-client) section. Otherwise, let's set up the Push Advisor example now.

For an in-depth guide on how Gram works and a more detailed guide on how to create a Gram MCP server, check out the [Gram concepts guide](/blog/gram-concepts).

### Setting up a Gram project

In the [Gram dashboard](https://getgram.ai), click **New Project** to start the guided setup flow for creating a toolset and MCP server.

![Screenshot of the Gram dashboard showing the New Project link](/img/guides/mcp-installing-ide/gram-new-project.png)

Enter a project name and click **Submit**.

Gram will then guide you through the following steps.

#### Step 1: Upload the OpenAPI document

Upload the [Push Advisor OpenAPI document](https://github.com/ritza-co/gram-examples/blob/main/push-advisor-api/openapi.yaml), enter the name of your API, and click **Continue**.

![Screenshot of the upload your OpenAPI spec dialog](/img/guides/mcp-installing-ide/upload-openapi-spec.png)

#### Step 2: Create a toolset

Give your toolset a name (for example, "Push Advisor") and click **Continue**.

![Screenshot of the create toolset dialog](/img/guides/mcp-installing-ide/create-toolset.png)

Notice that the names of the tools that will be generated from your OpenAPI document are displayed in this dialog.

#### Step 3: Configure MCP

Enter a URL slug for the MCP server and click **Continue**.

![Screenshot of the configure MCP dialog](/img/guides/mcp-installing-ide/configure-mcp.png)

Gram will create the toolset from the OpenAPI document.

Click **Toolsets** in the sidebar to view the Push Advisor toolset.

![Screenshot of the Gram dashboard showing the Push Advisor toolset](/img/guides/mcp-installing-ide/toolset-created.png)

### Configuring environment variables

[Environments](/concepts/environments) store API keys and configuration separate from your toolset logic.

In the **Environments** tab, click the "Default" environment. Click **Edit** and then **Fill for Toolset**. Select the **Push Advisor** toolset and click **Fill Variables** to automatically populate the required variables.

![Screenshot showing the fill for toolset dialog to automatically populate required variables](/img/guides/mcp-installing-ide/fill-env-vars-toolset.png)

The Push Advisor API is hosted at `canpushtoprod.abdulbaaridavids04.workers.dev`, so set the `<API_name>_SERVER_URL` environment variable to `https://canpushtoprod.abdulbaaridavids04.workers.dev`. Click **Update** and then **Save**.

![Screenshot showing setting the server URL environment variable](/img/guides/mcp-installing-ide/set-server-url.png)

### Publishing an MCP server

Let's make the toolset available as an MCP server.

Go to the **MCP** tab, find the Push Advisor toolset, and click **Edit**.

On the **MCP Details** page, tick the **Public** checkbox and click **Save**.

![Screenshot of the MCP details page](/img/guides/mcp-installing-ide/mcp-details.png)

Scroll down to the **MCP Config** section and copy the **Public Server** configuration.

![Screenshot showing the MCP server config dialog for the Push Advisor toolset](/img/guides/mcp-installing-ide/copy-mcp-config.png)

The configuration will look something like this:

```json
{
  "mcpServers": {
    "GramPushadvisor": {
      "command": "npx",
      "args": [
          "mcp-remote",
          "https://app.getgram.ai/mcp/canipushtoprod"
        ]
    }
  }
}
```

Use the **Authenticated Server** configuration if you want to use the MCP server in a private environment.

You'll need an API key to use an authenticated server. [Generate an API key](/concepts/api-keys) in the **Settings** tab and copy it to the `GRAM_KEY` environment variable in place of `<your-key-here>`.

The authenticated server configuration looks something like this:

```json
{
  "mcpServers": {
    "GramPushadvisor": {
      "command": "npx",
      "args": [
        "mcp-remote",
        "https://app.getgram.ai/mcp/canipushtoprod",
        "--header",
        "Authorization: ${GRAM_KEY}"
      ],
      "env": {
        "GRAM_KEY": "Bearer <your-key-here>"
      }
    }
  }
}
```

Here's what these configuration options do:

- `"command"` – The executable to run (in this case `npx`).
- `"args"` – Array of command-line arguments.
- `"env"` – Environment variables for the server process (optional).
- `"timeout"` – Request timeout in milliseconds (optional, default: 600,000ms).
- `"trust"` – When `true`, bypasses all tool call confirmations (optional, default: `false`).

## Installing MCP Servers in your MCP client

Now that you have a Gram-hosted MCP server, let's connect it to your MCP client. Most MCP clients support installing MCP servers through configuration files that specify which servers to connect to and how to authenticate with them.

The configuration you copied from Gram will work across all MCP-compatible clients. We'll show you how to add it to the most popular clients.

### Claude Desktop

Claude Desktop is Anthropic's standalone AI assistant application that supports MCP through a JSON configuration file.

#### Installing the Gram MCP Server in Claude Desktop

<div class="flex justify-center">
  <video controls>
    <source src="/videos/installing-mcp-claude-desktop.mp4" type="video/mp4"></source>
    Your browser does not support the video tag.
  </video>
</div>

**Step 1: Access the Claude settings**

Open Claude Desktop and access the settings. On macOS, click **Claude -> Settings...** from the menu bar. On Windows, access the settings through the application menu.

**Step 2: Open the MCP configuration**

Navigate to the **Developer** section in the left sidebar of the **Settings** window. Click **Edit Config** to open the MCP configuration file. This will create or open the configuration file at:

- **macOS**: `~/Library/Application Support/Claude/claude_desktop_config.json`
- **Windows**: `%APPDATA%\Claude\claude_desktop_config.json`

**Step 3: Add your Gram server configuration**

Replace the file content with your Gram MCP configuration. For the **Public Server**, use:

```json
{
  "mcpServers": {
    "GramPushadvisor": {
      "command": "npx",
      "args": [
        "mcp-remote",
        "https://app.getgram.ai/mcp/canipushtoprod"
      ]
    }
  }
}
```

For the **Authenticated Server**, use:

```json
{
  "mcpServers": {
    "GramPushadvisor": {
      "command": "npx",
      "args": [
        "mcp-remote",
        "https://app.getgram.ai/mcp/canipushtoprod",
        "--header",
        "Authorization: ${GRAM_KEY}"
      ],
      "env": {
        "GRAM_KEY": "Bearer your-api-key-here"
      }
    }
  }
}
```

**Step 4: Test the connection**

Save the configuration file, close Claude Desktop completely, and reopen it. Once restarted, click hamburger icon in the chat field to see the available tools. Test the connection by asking:

```
What's the vibe today?
```

Claude will use your Gram MCP server to check the vibes through the Push Advisor API.

![Screenshot showing Claude Desktop successfully calling the Push Advisor API](/img/guides/mcp-installing-ide/claude-desktop-vibe-check.png)

### Cursor

Cursor integrates MCP servers through its built-in configuration interface, making it easy to add and manage servers directly from the settings.

#### Installing the Gram MCP Server in Cursor

<div class="flex justify-center">
  <video controls>
    <source src="/videos/installing-mcp-cursor.mp4" type="video/mp4"></source>
    Your browser does not support the video tag.
  </video>
</div>

**Step 1: Access the MCP configuration**

Open Cursor and navigate to **Settings -> Cursor Settings**, then open the **Tools & Integrations** tab. Look for the MCP section and click **Add Custom MCP** to access the configuration interface.

**Step 2: Add your Gram server**

This opens Cursor's global MCP configuration file. Add your Gram MCP Server configuration:

```json
{
  "mcpServers": {
    "GramPushadvisor": {
      "command": "npx",
      "args": [
        "mcp-remote",
        "https://app.getgram.ai/mcp/canipushtoprod"
      ]
    }
  }
}
```

For authenticated servers, include the environment variables:

```json
{
  "mcpServers": {
    "GramPushadvisor": {
      "command": "npx",
      "args": [
        "mcp-remote",
        "https://app.getgram.ai/mcp/canipushtoprod",
        "--header",
        "Authorization: ${GRAM_KEY}"
      ],
      "env": {
        "GRAM_KEY": "Bearer your-api-key-here"
      }
    }
  }
}
```

**Step 3: Use the Gram tools**

Once configured, access the Gram MCP functionality through Cursor's AI chat by clicking the chat icon or using `Cmd/Ctrl + L`. You can now ask questions like:

```
What's the vibe for pushing code today?
```

### VS Code with GitHub Copilot

VS Code supports MCP through GitHub Copilot with version 1.101 or later.

#### Installing the Gram MCP Server in VS Code

**Step 1: Add the MCP server to your settings.json file**

Open your VS Code command palette with `Ctrl/Cmd + Shift + P` and search for `Add MCP Server`. Select the **HTTP** option.

![Screenshot showing the VS Code Add HTTP MCP Server dialog](/img/guides/mcp-installing-ide/vscode-add-http-server.png)

Paste in the URL of your hosted MCP server and enter a server ID, which will be used to identify the server in the MCP configuration.

![Screenshot showing pasting the MCP server URL](/img/guides/mcp-installing-ide/vscode-paste-mcp-url.png)

Your MCP server will now show up in the list of MCP servers within your settings.json file.

![Screenshot showing the VS Code settings.json file with MCP server configuration](/img/guides/mcp-installing-ide/vscode-settings-json.png)

**Step 2: (Optional) Add an API key to your settings.json file**

If you're using an **authenticated server**, you can add an API key to your settings.json file.

For authenticated servers:

```json
{
  "servers": {
    "GramPushadvisor": {
      "command": "npx",
      "args": [
        "mcp-remote",
        "https://app.getgram.ai/mcp/canipushtoprod",
        "--header",
        "Authorization: ${input:gram_token}"
      ]
    }
  },
  "inputs": [
    {
      "type": "promptString",
      "id": "gram_token",
      "description": "Gram API Token",
      "password": true
    }
  ]
}
```

**Step 3: Start the server**

Open the Command Palette (`Ctrl/Cmd + Shift + P`) and type `MCP: List Servers` to see available servers. Click on the Gram MCP Server to start it.

**Step 4: Use with Copilot**

Once configured, the Gram MCP tools become available in the Copilot chat interface. You can enable and disable specific tools as needed and ask questions like:

```
Should I push this code to production?
```

<div class="flex justify-center">
  <video controls>
    <source src="/videos/vscode-prod-check.mp4" type="video/mp4"></source>
    Your browser does not support the video tag.
  </video>
</div>

### Windsurf

Windsurf provides a straightforward interface for managing MCP servers through its plugin system.

#### Installing the Gram MCP Server in Windsurf

**Step 1: Access Windsurf settings**

Click **Windsurf** in the top menu bar, then navigate to **Settings -> Windsurf Settings** to open the main configuration interface.

**Step 2: Open plugin management**

Under the **Plugins (MCP Servers)** section, click **Manage plugins** to access the plugin configuration area. Click **View raw config** to open the configuration file editor.

![Screenshot showing the Windsurf manage plugins interface](/img/guides/mcp-installing-ide/windsurf-manage-plugins.png)

**Step 3: Configure the Gram server**

A new file named `mcp_config.json` will open. Replace the contents with your Gram configuration:

```json
{
  "mcpServers": {
    "GramPushadvisor": {
      "command": "npx",
      "args": [
        "mcp-remote",
        "https://app.getgram.ai/mcp/canipushtoprod"
      ]
    }
  }
}
```

**Step 4: Activate the plugin**

Save the `mcp_config.json` file, return to the **Manage plugins** tab, and click **Refresh** to reload the plugin configuration. The Gram plugin will now appear in your available plugins and is ready to use.

![Screenshot showing the Windsurf MCP server successfully installed](/img/guides/mcp-installing-ide/windsurf-mcp-installed.png)

### Amp

[Amp](https://ampcode.com/manual#mcp) is an agentic coding tool built by Sourcegraph that runs in VS Code and compatible editors, as well as a command-line tool. It supports MCP through configuration settings.

#### Installing the Gram MCP Server in Amp

The Amp VS Code extension has a GUI for installing and managing MCP servers.

<div class="flex justify-center">
  <video controls>
    <source src="/videos/amp-installing-mcp.mp4" type="video/mp4"></source>
    Your browser does not support the video tag.
  </video>
</div>

**Step 1: Open the Amp settings**

Open the Amp settings by clicking the settings icon in the side window. Scroll down to the **MCP Servers** section and click **Add MCP Server**.

**Step 2: Add your Gram server configuration**

Type in the name of your MCP server, and under *Command or URL*, type in `npx`. Under *Arguments*, type in `mcp-remote https://app.getgram.ai/mcp/canipushtoprod`. If you're using an authenticated server, type in `mcp-remote https://app.getgram.ai/mcp/canipushtoprod --header "Authorization: ${GRAM_KEY}"` and under *Environment Variables*, type in `GRAM_KEY=your-api-key-here`.

![Screenshot showing the Amp MCP server configuration interface](/img/guides/mcp-installing-ide/amp-mcp-server-config.png)

**Step 3: Use the Gram tools**

Once configured, Amp will automatically load your Gram MCP server. You can now interact with the Push Advisor API through natural language prompts like:

```
Check if the deployment vibes are good today
```

![Screenshot showing Amp successfully calling the deployment vibes check](/img/guides/mcp-installing-ide/amp-deployment-vibes.png)

#### Installing the Gram MCP Server in Amp CLI

The Amp CLI can be configured through the `settings.json` file.

**Step 1: Access the configuration file**

Amp can be configured through the CLI configuration file. The CLI configuration file location varies by operating system:

- **Windows**: `%APPDATA%\amp\settings.json`
- **macOS**: `~/.config/amp/settings.json`
- **Linux**: `~/.config/amp/settings.json`

**Step 2: Add your Gram server configuration**

![Screenshot showing the Amp CLI settings configuration](/img/guides/mcp-installing-ide/amp-cli-settings.png)

Add the `amp.mcpServers` setting with your Gram MCP server configuration:

```json
{
  "amp.mcpServers": {
    "GramPushadvisor": {
      "command": "npx",
      "args": [
        "mcp-remote",
        "https://app.getgram.ai/mcp/canipushtoprod"
      ]
    }
  }
}
```

For authenticated servers, include the environment variables:

```json
{
  "amp.mcpServers": {
    "GramPushadvisor": {
      "command": "npx",
      "args": [
        "mcp-remote",
        "https://app.getgram.ai/mcp/canipushtoprod",
        "--header",
        "Authorization: ${GRAM_KEY}"
      ],
      "env": {
        "GRAM_KEY": "Bearer your-api-key-here"
      }
    }
  }
}
```

**Step 3: Use the Gram tools**

Once configured, Amp will automatically load your Gram MCP server. You can now interact with the Push Advisor API through natural language prompts like:

```
Check if the deployment vibes are good today
```

![Screenshot showing Amp CLI successfully calling the deployment vibes check](/img/guides/mcp-installing-ide/amp-cli-showcase.png)

Amp recommends being selective with MCP tools for best performance. Too many available tools can reduce model performance, so consider disabling unused MCP tools by adding them to the `amp.tools.disable` setting.

## Troubleshooting

Here are some common issues and solutions:

### Server not connecting

If your MCP client can't connect to the Gram server:

- Verify the MCP server URL is correct in your configuration.
- Check that the API behind the MCP server is reachable from your machine.
- Ensure the `npx` command is available (reinstall Node.js if needed).
- Try restarting your MCP client after making configuration changes.

### Authentication errors

If you're using an authenticated server and getting authentication errors:

- Verify your Gram API key in the dashboard under **Settings > API Keys**.
- Ensure the API key is correctly formatted with the `Bearer ` prefix.

### Tools not appearing

If the tools aren't showing up in your MCP client:

- Test the MCP server in the **Gram Playground** first to ensure it's working.
- Check that the toolset includes the tools you expect to use.
- Verify the environment is correctly configured with required variables.
- Look for any error messages in your MCP client's logs.

## What's next

Ready to build your own MCP server? [Try Gram today](https://getgram.ai) and see how easy it is to turn any API into agent-ready tools that work across all your development environments.


